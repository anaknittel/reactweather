import React, { useState } from "react";
import axios from "axios";

export default function Units(props) {
  let [celsius, setCelsius] = useState(props.temperatures);
  let [fahrenheit, setFahrenheit] = useState();
  let apiKey = "117c16c8e34c1f00f925ddb4052594d6";

  function setCelsius() {
    celsius = props.temperature;
  }

  function setFahrenheit(event) {
    event.preventDefault();
    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${props.weather.name}&appid=${apiKey}&units=imperial`;
    axios.get(apiUrl).then(fahrenheitToCelcius);
  }

  function fahrenheitToCelcius(response) {
    fahrenheit = Math.round(response.data.main.temp * 10) / 10;
  }

  return (
    <div>
      <div id="units">
        <a id="celsius-link" href=" " onClick={setFahrenheit}>
          ºC
        </a>{" "}
        |
        <a id="farhenheit-link" href=" " onClick={setCelsius}>
          ºF
        </a>{" "}
      </div>{" "}
    </div>
  );
}
